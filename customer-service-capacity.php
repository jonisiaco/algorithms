<?php

$persons = 1;

$dates = [
	0 => [1481122000, 1481122020], //
	1 => [1481122000, 1481122040], //1
	2 => [1481122030, 1481122035], //1
	3 => [1481122031, 1481122040], //1
	4 => [1481122040, 1481122042], //
	5 => [1481122043, 1481122050], //
];

$dates = [
	0 => [1481222000, 1481222020], //
	1 => [1481222001, 1481222040], //1
	2 => [1481222002, 1481222035], //1
	3 => [1481222050, 1481222055], //
	4 => [1481222060, 1481222065], //
	5 => [1481222060, 1481222062], //1
];

$dates = [
	0 => [1481122000, 1481122020], //
	1 => [1481122000, 1481122040], //1
	2 => [1481122030, 1481122035], //
];
$dates = [
	0 => [1481222000, 1481222050], //
	1 => [1481222020, 1481222050], //1
	2 => [1481222040, 1481222050], //1
	3 => [1481222051, 1481222060], //
];

$n = count($dates);
$counter = 0;
$matches = [];

for ($i=0; $i < $n; $i++) {  

	$d1 = $dates[$i][0];
	$d2 = $dates[$i][1];

	for ($j = 0; $j < $n; $j++) {

		if($i == $j) {
			continue;
		}

		if ( $dates[$j][0] >= $d1 && $dates[$j][0] <= $d2 ) {
			if (array_key_exists($d1, $matches)) {
				break;
			}
			$matches[$d1] = 1;
			$counter++;
			break;
		}
		if ( $dates[$j][1] >= $d1 && $dates[$j][1] <= $d2 ) {
			if (array_key_exists($d1, $matches)) {
				break;
			}
			$matches[$d1] = 1;
			$counter++;
			break;
		}

		if ( $dates[$j][0] <= $d1 && $dates[$j][1] >= $d2 ) {
			if (array_key_exists($d1, $matches)) {
				break;
			}
			$matches[$d1] = 1;
			$counter++;
			break;
		}


	}
	
}

var_dump($counter-$persons);

